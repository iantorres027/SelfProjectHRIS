@using Template.Application.Services;

@inject ICurrentUserService _currentUser;
@inject IStringLocalizer<SharedResources> localizer

@{
    var userInfo = await _currentUser.GetUserInfo();
}

<div class="navbar-custom">
    <div class="topbar container-fluid">
        <div class="d-flex align-items-center">

            <!-- Brand Logo Light -->
            <a asp-controller="Home" asp-action="Index" class="logo logo-light">
                <span class="logo-lg">
                    <img src="~/images/companylogo/mnl_logo_dark.png" alt="logo" style="height:60px;">
                </span>
                <span class="logo-sm">
                    <img src="~/images/companylogo/mnl_logo_sm_dark.png" alt="small logo">
                </span>
            </a>

            <!-- Brand Logo Dark -->
            <a href="index.html" class="logo logo-dark">
                <span class="logo-lg">
                    <img src="~/images/companylogo/mnl_logo_light.png" alt="dark logo" style="height:60px;">
                </span>
                <span class="logo-sm">
                    <img src="~/images/companylogo/mnl_logo_sm_light.png" alt="small logo">
                </span>
            </a>

            <ul class="topbar-menu d-flex align-items-center gap-1 p-0">
                <li class="waves-effect waves-light">
                    <button class="button-toggle-menu">
                        <i class="fe-menu"></i>
                    </button>
                </li>

                <li>
                    <!-- Horizontal Menu Toggle Button -->
                    <button class="navbar-toggle" data-bs-toggle="collapse" data-bs-target="#topnav-menu-content">
                        <div class="lines">
                            <span></span>
                            <span></span>
                            <span></span>
                        </div>
                    </button>
                </li>

            </ul>
        </div>

        <ul class="topbar-menu d-flex align-items-center gap-1">

            <li class="d-none d-sm-inline-block">
                <div class="nav-link waves-effect waves-light" id="light-dark-mode">
                    <i class="ri-moon-line font-22"></i>
                </div>
            </li>

            <li class="d-none d-md-inline-block">
                <a class="nav-link waves-effect waves-light" href="" data-toggle="fullscreen">
                    <i class="fe-maximize font-22"></i>
                </a>
            </li>

            <partial name="_CulturePartial" />

            <li class="dropdown">
                <a class="nav-link dropdown-toggle arrow-none nav-user waves-effect waves-light" data-bs-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
                    <span class="account-user-avatar">
                        <img src="~/images/user/default.png" alt="user-image" width="32" class="rounded-circle">
                    </span>
                    <span class="d-lg-flex flex-column gap-1 d-none">
                        <span class="my-0">
                            @userInfo.FirstName
                            <span class="mdi mdi-chevron-down"></span>
                        </span>

                    </span>
                </a>
                <div class="dropdown-menu dropdown-menu-end dropdown-menu-animated profile-dropdown">
                    <!-- item-->
                    <div class=" dropdown-header noti-title">
                        <h6 class="text-overflow m-0">@localizer["Welcome"] !</h6>
                    </div>

                    <!-- item-->
                    <a asp-controller="Account" asp-action="MyProfile" class="dropdown-item">
                        <i class="fe-user"></i>
                        <span>@localizer["My Profile"]</span>
                    </a>

                    <!-- item-->
                    <a asp-controller="Account" asp-action="LogOff" class="dropdown-item">
                        <i class="mdi mdi-logout me-1"></i>
                        <span>@localizer["Logout"]</span>
                    </a>
                </div>
            </li>

            <li class="d-none d-sm-inline-block pe-2">
                <a class="nav-link waves-effect waves-light" data-bs-toggle="offcanvas" href="#theme-settings-offcanvas">
                    <i class="fe-settings font-22"></i>
                </a>
            </li>
        </ul>
    </div>
</div>